# 访客字段
客户公司通过[设置-访客字段]进入访客字段设置界面，也能在访客界面中找到访客字段的按钮，直接进入。

在 PPMESSAGE 中通过访客字段来创建和跟踪访客的各种行为和属性。

在 PPMESSAGE 中访客字段分为：
- 事件字段
- 定制字段
- 标准字段

事件字段：
 在网页端集成 PPMESSAGE 可以就感兴趣的用户事件进行跟踪上报。首先，新需要了解事件的概念，事件是系统对用户行为进行跟踪的基本数据，通过管理后台可以自定义事件，每个事件在每个访客身上都可能发生。系统跟踪事件的次数，首次创建时间，最后创建时间，最后更新数据，这些数据可以用来进行访客过滤，创建客户细分。

以下是您可以使用事件字段进行访客行为跟踪的一些示例：

您可以跟踪访客执行某项操作的最近时间。例如，这可能是他们最后一次导出PDF或最近联系客服人员的事件。
您可以跟踪访客首次选择付费产品的事件。
您可以跟踪访客在您的网站上订购的时间（以及内容）。
事件的定义通过管理员在管理后台定义，每个事件在访客浏览网页的时候，由开发者控制产生：

```
window._ppmatc.push({
  track_event: {
    event_name: "click",
    event_uuid: "a50ed4ee-6a20-11e8-b4ec-00163e0c79f6",
    event_data: {},
    event_timestamp: Math.round(new Date().getTime()/1000)    
  }
});

});
```
上边的代码是一个简单的例子，通过 JQuery 监听网页的点击事件，生成事件，并且放到 window._ppmatc 的队列之中。

其中 window._ppmatc 这个队列会被 PPMESSAGE 定期检查，如果发现有事件数据对象就会上报给后台系统。

上报的数据结构必须如上述代码所描述，一个 Javascript 对象，并且含有 track_event 成员，在 track_event 里面要指定 event_name, event_uuid, event_data。event_uuid, 是从管理后台中获取，event_data 是任意对象或者字符串,event_timestamp 是事件生成时间戳，这里为系统生成。

添加自定义事件字段，客户在访客字段界面中直接添加即可。

定制字段：
PPMESSAGE 允许您根据特定于您的业务的标准创建定制字段跟踪有关客户的自定义数据属性。 您可以使用此数据来过滤和创建客户细分，并发送有针对性的消息和广告。例如您可以创建一个名叫“行业类别”的定制字段来细分来自不同行业的客户群体。目前支持的定制字段类型有：
- 日期
- 布尔
- 文本
- 长文本
- 整数
- 浮点数
- 单选
- 多选
- 客户
- 座席
- 客户组
- 座席组
- 公司
请在访客字段界面中的定制字段直接添加即可，这里添加时会勾选显示在列表和显示在过滤，如果都勾选会在访客界面左侧看到定制内容，在客户细分的时候能通过定制将客户过滤，分组。

标准字段：
| 字段名称 | 类型 | 基本描述 |
| --- | :-: | :-- |
| 姓名 | 文本 | 访问者的全名，若没有指定全名的用户，系统会为其指定一个，一般是访问者的地理位置 |
| 首次出现时间 | 日期 | 访问者首次出现的时间 |
| 用户注册时间 | 日期 | 用户注册的时间（指在您的系统中） |
| 浏览器语言 | 文本 | 访问者使用的浏览器语言 |
| 浏览器 | 文本 | 访问者使用的浏览器类型 |
| 操作系统 | 文本 | 访问者使用的操作系统 |
| 关键字 | 文本 | 关键字 |
| 着陆页面 | 长文本 | 着陆页面 |
| 客户公司 | 公司 | 客户所属公司，座席可以定义客户公司，也可以通过开发接口传递客户公司的属性，从而创建公司 |
| 国家 | 文本 | 访问者的国家 |
| 页面标题 | 长文本 | 访问者访问的页面标题 |
| 手机 | 文本 | 访问者的手机号码 |
| 网站 | 文本 | 访问者访问的网站 |
| 来源 | 长文本 | 来源 |
| IP 地址 | 文本 | IP 地址 |
| 邮件 | 文本 | 访问者的电子邮件，若没有指定用户邮件，系统会自动指定一个，形如123@123 |
| 城市 | 文本 | 城市 |
| 页面地址 | 长文本 | 页面地址 |
| 设备名称 | 文本 | 设备名称 |
| 应用界面 | 文本 | 应用页面 |
| 操作系统版本 | 文本 | 操作系统版本 |
| 浏览器版本 | 文本 | 浏览器版本 |
| 用户语言 | 文本 | 用户语言 |
| 会话数 | 整数 | 网页会话次数 |
| 最近出现时间 | 日期 | 访问址最后一次出现的时间 |
| 在线状态 | 单选 | 访问者在线状态 |
| 客户渠道 | 单选 | 客户渠道是指客户来源。客户访问网站、使用移动APP，打电话，发邮件都是客户的来源 |

标准字段无法修改也不能添加。





